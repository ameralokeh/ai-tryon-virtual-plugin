<!DOCTYPE html>
<html>
<head>
    <title>Test Floating Buttons</title>
    <style>
        /* Floating Buttons */
        .floating-buttons {
            position: absolute;
            top: 12px;
            right: 12px;
            display: none; /* Hidden by default */
            gap: 8px;
            z-index: 10;
        }

        /* Show floating buttons when image is uploaded */
        .upload-area.has-preview .floating-buttons {
            display: flex !important; /* Force display when has-preview class is added */
        }

        .floating-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: rgba(74, 144, 226, 0.95);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .upload-area {
            width: 300px;
            height: 200px;
            border: 2px dashed #ccc;
            position: relative;
            margin: 50px;
            background: #f9f9f9;
        }

        .image-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Test Floating Buttons</h1>
    
    <div class="upload-area" id="upload-area">
        <p>Upload Area</p>
        
        <!-- Floating action buttons -->
        <div class="floating-buttons" style="display: none;">
            <button class="floating-btn change-photo-btn" type="button">üì∑</button>
            <button class="floating-btn clear-photo-btn" type="button">‚ùå</button>
        </div>
    </div>
    
    <input type="file" id="file-input" accept="image/*">
    
    <button onclick="testShowButtons()">Test Show Buttons</button>
    <button onclick="testHideButtons()">Test Hide Buttons</button>
    
    <script>
        function testShowButtons() {
            console.log('Testing show buttons...');
            const uploadArea = $('#upload-area');
            uploadArea.addClass('has-preview');
            uploadArea.find('.floating-buttons').show();
            console.log('Added has-preview class and called show()');
        }
        
        function testHideButtons() {
            console.log('Testing hide buttons...');
            const uploadArea = $('#upload-area');
            uploadArea.removeClass('has-preview');
            uploadArea.find('.floating-buttons').hide();
            console.log('Removed has-preview class and called hide()');
        }
        
        $('#file-input').on('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const uploadArea = $('#upload-area');
                    
                    // Remove existing preview
                    uploadArea.find('.image-preview').remove();
                    
                    // Add new preview
                    const preview = $('<img>', {
                        src: e.target.result,
                        class: 'image-preview',
                        alt: 'Preview'
                    });
                    
                    uploadArea.append(preview);
                    uploadArea.addClass('has-preview');
                    
                    // Show floating buttons
                    uploadArea.find('.floating-buttons').show();
                    
                    console.log('Image uploaded, buttons should be visible');
                };
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>
</html>