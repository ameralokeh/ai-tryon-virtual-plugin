<!DOCTYPE html>
<html>
<head>
    <title>Test Upload AJAX</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h2>Test Upload AJAX</h2>
    
    <input type="file" id="test-file" accept="image/*">
    <button id="test-upload">Test Upload</button>
    
    <div id="result" style="margin-top: 20px; padding: 20px; background: #f5f5f5; font-family: monospace;"></div>

    <script>
    $('#test-upload').click(function() {
        const fileInput = document.getElementById('test-file');
        const file = fileInput.files[0];
        
        if (!file) {
            $('#result').append('<div>‚ùå No file selected</div>');
            return;
        }
        
        $('#result').append('<div>üìÅ File selected: ' + file.name + ' (' + file.size + ' bytes)</div>');
        
        const formData = new FormData();
        formData.append('action', 'ai_virtual_fitting_upload');
        formData.append('nonce', '221b0df5fb'); // From the page source
        formData.append('customer_image', file);
        
        $('#result').append('<div>üöÄ Sending AJAX request...</div>');
        
        $.ajax({
            url: 'http://localhost:8080/wp-admin/admin-ajax.php',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function(response) {
                $('#result').append('<div>‚úÖ AJAX Success: ' + JSON.stringify(response) + '</div>');
            },
            error: function(xhr, status, error) {
                $('#result').append('<div>‚ùå AJAX Error: ' + status + ' - ' + error + '</div>');
                $('#result').append('<div>Response: ' + xhr.responseText + '</div>');
            }
        });
    });
    </script>
</body>
</html>
</text>